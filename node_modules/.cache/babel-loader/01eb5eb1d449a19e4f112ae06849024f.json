{"ast":null,"code":"var _jsxFileName = \"D:\\\\Xammp\\\\xammp\\\\htdocs\\\\soaltest\\\\src\\\\pages\\\\edit.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link, Redirect } from 'react-router-dom';\nimport Header from \"../elements/header\";\nimport Sidebar from \"../elements/sidebar\";\nexport default class EditPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      redirect: false,\n      isLoading: false\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        isLoading: true\n      });\n      const token = localStorage.getItem('token');\n      const url = 'https://gowtham-rest-api-crud.herokuapp.com/employees/' + this.state.id;\n      const name = document.getElementById('inputName').value;\n      const phone = document.getElementById('inputPhone').value;\n      const email = document.getElementById('inputEmail').value;\n      const location = document.getElementById('inputLoca').value;\n      const empid = document.getElementById('inputEmpId').value;\n      const company = document.getElementById('inputComp').value;\n      axios.put(url, {\n        name: name,\n        phone: phone,\n        email: email,\n        location: location,\n        emp_id: empid,\n        company: company,\n        token: token\n      }).then(result => {\n        if (result.data.status) {\n          this.setState({\n            redirect: true,\n            isLoading: false\n          });\n        }\n      }).catch(error => {\n        this.setState({\n          toDashboard: true\n        });\n        console.log(error);\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/dashboard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 20\n          }\n        });\n      }\n    };\n\n    this.url = 'https://gowtham-rest-api-crud.herokuapp.com/employees';\n    this.token = localStorage.getItem('token');\n  }\n\n  componentDidMount() {\n    const id = this.props.location.search[4];\n    axios.get(this.url + '/' + id, {\n      params: {\n        token: this.token\n      }\n    }).then(response => {\n      const emp = response.data.employee;\n      this.setState({\n        id: emp.id\n      });\n      document.getElementById('inputName').value = emp.name;\n      document.getElementById('inputPhone').value = emp.phone;\n      document.getElementById('inputEmail').value = emp.email;\n      document.getElementById('inputLoca').value = emp.location;\n      document.getElementById('inputEmpId').value = emp.emp_id;\n      document.getElementById('inputComp').value = emp.company;\n    }).catch(error => {\n      this.setState({\n        toDashboard: true\n      });\n      console.log(error);\n    });\n  }\n\n  render() {\n    const isLoading = this.state.isLoading;\n\n    if (this.state.toDashboard === true) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"content-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/dashboard',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, \"Edit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, \"Employee Edit\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-label-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputName\",\n      className: \"form-control\",\n      placeholder: \"Enter name\",\n      required: \"required\",\n      autoFocus: \"autofocus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 57\n      }\n    }, \"Enter name\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-label-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"inputPhone\",\n      className: \"form-control\",\n      placeholder: \"Enter Phone\",\n      required: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputPhone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 57\n      }\n    }, \"Enter Phone\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-label-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"inputEmail\",\n      className: \"form-control\",\n      placeholder: \"Email address\",\n      required: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 57\n      }\n    }, \"Email address\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-label-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputComp\",\n      className: \"form-control\",\n      placeholder: \"Enter Company\",\n      required: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputComp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 57\n      }\n    }, \"Enter Company\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-label-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"inputEmpId\",\n      className: \"form-control\",\n      placeholder: \"Enter Emp ID\",\n      required: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputEmpId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 57\n      }\n    }, \"Enter Emp ID\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-label-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputLoca\",\n      className: \"form-control\",\n      placeholder: \"Enter Location\",\n      required: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputLoca\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 57\n      }\n    }, \"Enter Location\"))))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-block\",\n      type: \"submit\",\n      disabled: this.state.isLoading ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 41\n      }\n    }, \"Update Employee \\xA0\\xA0\\xA0\", isLoading ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"spinner-border spinner-border-sm\",\n      role: \"status\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 49\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 49\n      }\n    }))), this.renderRedirect()))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"sticky-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container my-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"copyright text-center my-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 37\n      }\n    }, \"Copyright \\xA9 Your Website 2019\")))))));\n  }\n\n}","map":{"version":3,"sources":["D:/Xammp/xammp/htdocs/soaltest/src/pages/edit.js"],"names":["React","Component","axios","Link","Redirect","Header","Sidebar","EditPage","constructor","props","state","id","redirect","isLoading","handleSubmit","event","preventDefault","setState","token","localStorage","getItem","url","name","document","getElementById","value","phone","email","location","empid","company","put","emp_id","then","result","data","status","catch","error","toDashboard","console","log","renderRedirect","componentDidMount","search","get","params","response","emp","employee","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Link, Redirect} from 'react-router-dom';\nimport Header from \"../elements/header\";\nimport Sidebar from \"../elements/sidebar\";\n\nexport default class EditPage extends Component {\n\n    constructor(props) {\n        super(props);\n        this.url = 'https://gowtham-rest-api-crud.herokuapp.com/employees';\n        this.token = localStorage.getItem('token');\n    }\n\n    state = {\n        id: '',\n        redirect: false,\n        isLoading: false\n    };\n\n    componentDidMount() {\n        const id = this.props.location.search[4];\n        axios.get(this.url + '/'  + id, { params: { token: this.token}})\n            .then(response => {\n                const emp = response.data.employee;\n                this.setState({id: emp.id });\n                document.getElementById('inputName').value = emp.name;\n                document.getElementById('inputPhone').value = emp.phone;\n                document.getElementById('inputEmail').value = emp.email;\n                document.getElementById('inputLoca').value = emp.location;\n                document.getElementById('inputEmpId').value = emp.emp_id;\n                document.getElementById('inputComp').value = emp.company;\n            })\n            .catch(error => {\n                this.setState({ toDashboard: true });\n                console.log(error);\n            });\n        \n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        this.setState({isLoading: true});\n        const token = localStorage.getItem('token');\n        const url = 'https://gowtham-rest-api-crud.herokuapp.com/employees/'+ this.state.id;\n        const name = document.getElementById('inputName').value;\n        const phone = document.getElementById('inputPhone').value;\n        const email = document.getElementById('inputEmail').value;\n        const location = document.getElementById('inputLoca').value;\n        const empid = document.getElementById('inputEmpId').value;\n        const company = document.getElementById('inputComp').value;\n        axios.put(url, { name: name, phone: phone, email:email, location:location, emp_id:empid, company:company, token:token })\n            .then(result => {\n                if (result.data.status) {\n                    this.setState({redirect: true, isLoading: false})\n                }\n            })\n            .catch(error => {\n                this.setState({ toDashboard: true });\n                console.log(error);\n            });\n    };\n\n    renderRedirect = () => {\n        if (this.state.redirect) {\n            return <Redirect to='/dashboard' />\n        }\n    };\n\n    render() {\n        const isLoading = this.state.isLoading;\n        if (this.state.toDashboard === true) {\n            return <Redirect to='/' />\n        }\n        return (\n            <div>\n                <Header/>\n                <div id=\"wrapper\">\n                    <Sidebar></Sidebar>\n                    <div id=\"content-wrapper\">\n                        <div className=\"container-fluid\">\n                            <ol className=\"breadcrumb\">\n                                <li className=\"breadcrumb-item\">\n                                    <Link to={'/dashboard'} >Dashboard</Link>\n                                </li>\n                                <li className=\"breadcrumb-item active\">Edit</li>\n                            </ol>\n                        </div>\n                        <div className=\"container-fluid\">\n                            <div className=\"card mx-auto\">\n                                <div className=\"card-header\">Employee Edit</div>\n                                <div className=\"card-body\">\n                                    <form onSubmit={this.handleSubmit}>\n                                        <div className=\"form-group\">\n                                            <div className=\"form-row\">\n                                                <div className=\"col-md-6\">\n                                                    <div className=\"form-label-group\">\n                                                        <input type=\"text\" id=\"inputName\" className=\"form-control\" placeholder=\"Enter name\" required=\"required\" autoFocus=\"autofocus\" />\n                                                        <label htmlFor=\"inputName\">Enter name</label>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-md-6\">\n                                                    <div className=\"form-label-group\">\n                                                        <input type=\"number\" id=\"inputPhone\" className=\"form-control\" placeholder=\"Enter Phone\" required=\"required\" />\n                                                        <label htmlFor=\"inputPhone\">Enter Phone</label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <div className=\"form-row\">\n                                                <div className=\"col-md-6\">\n                                                    <div className=\"form-label-group\">\n                                                        <input type=\"email\" id=\"inputEmail\" className=\"form-control\" placeholder=\"Email address\" required=\"required\" />\n                                                        <label htmlFor=\"inputEmail\">Email address</label>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-md-6\">\n                                                    <div className=\"form-label-group\">\n                                                        <input type=\"text\" id=\"inputComp\" className=\"form-control\" placeholder=\"Enter Company\" required=\"required\"/>\n                                                        <label htmlFor=\"inputComp\">Enter Company</label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <div className=\"form-row\">\n                                                <div className=\"col-md-6\">\n                                                    <div className=\"form-label-group\">\n                                                        <input type=\"number\" id=\"inputEmpId\" className=\"form-control\" placeholder=\"Enter Emp ID\" required=\"required\" />\n                                                        <label htmlFor=\"inputEmpId\">Enter Emp ID</label>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-md-6\">\n                                                    <div className=\"form-label-group\">\n                                                        <input type=\"text\" id=\"inputLoca\" className=\"form-control\" placeholder=\"Enter Location\" required=\"required\"/>\n                                                        <label htmlFor=\"inputLoca\">Enter Location</label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <button className=\"btn btn-primary btn-block\" type=\"submit\" disabled={this.state.isLoading ? true : false}>Update Employee &nbsp;&nbsp;&nbsp;\n                                            {isLoading ? (\n                                                <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                            ) : (\n                                                <span></span>\n                                            )}\n                                        </button>\n                                    </form>\n                                    {this.renderRedirect()}\n                                </div>\n                            </div>\n                        </div>\n\n                        <footer className=\"sticky-footer\">\n                            <div className=\"container my-auto\">\n                                <div className=\"copyright text-center my-auto\">\n                                    <span>Copyright © Your Website 2019</span>\n                                </div>\n                            </div>\n                        </footer>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}